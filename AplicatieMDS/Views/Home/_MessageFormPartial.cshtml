@model AplicatieMDS.Models.Message

<div class="card">
    <form onsubmit="return sendMessage(this);">
        <div class="card-body">
            <input type="hidden" name="ChatId" value="@Model.ChatId" />
            <br />
            <div style="position: relative; margin-bottom: 20px;">
                <textarea id="messageInput" class="form-control" name="Content" style="height:60px;border-radius:20px;padding-right:30px;line-height:13px;"></textarea>
                @Html.ValidationMessage("Content", null, new { @class = "text-danger" })

                <!-- Emoji Picker Button -->
                <button type="button" id="emojiButton" class="btn" style="position: absolute; bottom: 17.5px; right: 50px; color: black; font-size: 20px;">
                    😊
                </button>

                <button class="btn" style="position: absolute; bottom: 17.5px; right: 10px; color: black; font-size: 30px;" type="submit">➤</button>
            </div>
        </div>
    </form>

    <!-- Emoji Picker Element -->
    <div id="emojiPicker" class="emoji-picker" style="display: none;">
        <span class="emoji">😀</span>
        <span class="emoji">😁</span>
        <span class="emoji">😂</span>
        <span class="emoji">🤣</span>
        <span class="emoji">😃</span>
        <span class="emoji">😄</span>
        <span class="emoji">😅</span>
        <span class="emoji">😆</span>
        <span class="emoji">😉</span>
        <span class="emoji">😊</span>
        <span class="emoji">😋</span>
        <span class="emoji">😎</span>
        <span class="emoji">😍</span>
        <span class="emoji">😘</span>
        <span class="emoji">😗</span>
        <span class="emoji">😙</span>
        <span class="emoji">😚</span>
        <span class="emoji">🙂</span>
        <span class="emoji">🤗</span>
        <span class="emoji">🤩</span>
        <span class="emoji">🤔</span>
        <span class="emoji">🤨</span>
        <span class="emoji">😐</span>
        <span class="emoji">😑</span>
        <span class="emoji">😶</span>
        <span class="emoji">🙄</span>
        <span class="emoji">😏</span>
        <span class="emoji">😣</span>
        <span class="emoji">😥</span>
        <span class="emoji">😮</span>
        <span class="emoji">🤐</span>
        <span class="emoji">😯</span>
        <span class="emoji">😪</span>
        <span class="emoji">😫</span>
        <span class="emoji">😴</span>
        <span class="emoji">😌</span>
        <span class="emoji">😛</span>
        <span class="emoji">😜</span>
        <span class="emoji">😝</span>
        <span class="emoji">🤤</span>
        <span class="emoji">😒</span>
        <span class="emoji">😓</span>
        <span class="emoji">😔</span>
        <span class="emoji">😕</span>
        <span class="emoji">🙃</span>
        <span class="emoji">🤑</span>
        <span class="emoji">😲</span>
        <span class="emoji">☹️</span>
        <span class="emoji">🙁</span>
        <span class="emoji">😖</span>
        <span class="emoji">😞</span>
        <span class="emoji">😟</span>
        <span class="emoji">😤</span>
        <span class="emoji">😢</span>
        <span class="emoji">😭</span>
        <span class="emoji">😦</span>
        <span class="emoji">😧</span>
        <span class="emoji">😨</span>
        <span class="emoji">😩</span>
        <span class="emoji">🤯</span>
        <span class="emoji">😬</span>
        <span class="emoji">😰</span>
        <span class="emoji">😱</span>
        <span class="emoji">🥵</span>
        <span class="emoji">🥶</span>
        <span class="emoji">😳</span>
        <span class="emoji">🤪</span>
        <span class="emoji">😵</span>
        <span class="emoji">😠</span>
        <span class="emoji">😡</span>
        <span class="emoji">🤬</span>
        <span class="emoji">😷</span>
        <span class="emoji">🤒</span>
        <span class="emoji">🤕</span>
        <span class="emoji">🤢</span>
        <span class="emoji">🤮</span>
        <span class="emoji">🤧</span>
        <span class="emoji">😇</span>
        <span class="emoji">🥳</span>
        <span class="emoji">🥺</span>
        <span class="emoji">🧐</span>
        <span class="emoji">🤓</span>
        <span class="emoji">😈</span>
        <span class="emoji">👿</span>
        <!-- Add more emojis as needed -->
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const emojiPicker = document.querySelector("#emojiPicker");
        const emojiButton = document.querySelector("#emojiButton");
        const messageInput = document.querySelector("#messageInput");

        emojiButton.addEventListener("click", function () {
            emojiPicker.style.display = emojiPicker.style.display === "none" ? "block" : "none";
        });

        emojiPicker.addEventListener("click", function (event) {
            if (event.target.classList.contains("emoji")) {
                const emoji = event.target.textContent;
                messageInput.value += emoji;
                messageInput.focus();
            }
        });

        document.addEventListener("click", function (event) {
            if (!emojiButton.contains(event.target) && !emojiPicker.contains(event.target)) {
                emojiPicker.style.display = "none";
            }
        });
    });
</script>